{% extends 'layout.html' %}
{% block head %}
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>EECC user</title>
<link rel="stylesheet" href="/static/css/style.css" />
<style>
    .col-centered { float: none; margin: 0 auto; }
    hr { border-color: #cccccc; }
</style>
{% endblock %}
{% block body %}
<div class="container base">
  <div class="row">
    <div class="col-sm-8 col-md-7 col-lg-6 col-centered">
      {% block flash_messages %}
        {%- with messages = get_flashed_messages(with_categories=true) -%}
          {% if messages %}
            {% for category, message in messages %}
              {% if category=='error' %}
                {% set category='danger' %}
              {% endif %}
              <div class="alert alert-{{category}}">{{ message }}</div>
            {% endfor %}
          {% endif %}
        {%- endwith %}
      {% endblock %}
      <div class="user_wrapper">
        <nav class="user_navbar">
          <h3> {{ current_user.username }} </h3>
          <ul class="nav">
            {% if current_user.is_authenticated() %}
                <li><a href="{{ url_for('user') }}">Profile</a></li>
                <li><a href="{{ url_for('update_profile') }}">Update Profile</a></li>
                <li><a href="{{ url_for('user.change_password') }}">Change Password</a></li>
                <li><a href="{{ url_for('user.change_username') }}">Change username</a></li>
            {% else %}
                <li><a href="{{ url_for('user.register') }}">Register</a></li>
                <li><a href="{{ url_for('user.login') }}">Sign in</a></li>
                <li><a href="{{ url_for('user.forgot_password') }}">Forgot password?</a></li>
            {% endif %}
          </ul>
        </nav>
        <div class="user_content">
          {% block content %}
          {% endblock %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}


{% extends 'layout.html' %}
{% block head %}
<script type="text/javascript" src="{{ url_for('static', filename='javascript/masonry.pkgd.min.js') }}"></script>
{% endblock %}
{% block body %}
<div class="container users">
  <div id="container" class="js-masonry"
  data-masonry-options='{ "columnWidth": 0, "itemSelector": ".item" }'>
    {% for user in users %}
      <div class="item col-xs-3">
        <a href="{{ url_for('userProfile', uname=user.username) }}">
          <div class="well">
            <div class="avatar"><img class="avatar-image" src="{{ user.avatar if user.avatar != None else url_for('static', filename='upload/user_avatar/default1.png') }}"></div>
            <div class="name">{{user.lname}} {{user.fname}}</div>
          </div>
        </a>
      </div>
    {% endfor %}
  </div>
</div>
<script>
  $(document).ready( function() {
    $('.avatar-image').resizeToParent();
    var container = document.querySelector('#container');
    imagesLoaded( container, function() {
      var msnry = new Masonry( container, {
        // options...
        itemSelector: '.item',
        columnWidth: 0
      });
    });
  });
</script>
{% endblock %}